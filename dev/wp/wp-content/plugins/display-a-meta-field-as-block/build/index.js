(()=>{"use strict";var e,t={101:(e,t,i)=>{const a=window.wp.blocks;(0,window.wp.hooks.addFilter)("blockEditor.useSetting.before","MFB/blockEditor.useSetting.before",((e,t,i,a)=>"mfb/meta-field-block"!==a?e:!!["color.text","color.background","color.link"].includes(t)||e));const l=window.wp.i18n,n=window.wp.blockEditor,o=window.wp.components,s=window.ReactJSXRuntime,r=["div","h1","h2","h3","h4","h5","h6","span","p","header","footer","section"],d={className:"mfb-tagname-dropdown"},c=({value:e})=>(0,s.jsx)("strong",{style:{fontFamily:"sans-serif",fontWeight:800,fontSize:"1.3em",textAlign:"center",letterSpacing:"-1px"},children:e.toUpperCase()});function p({value:e,onChange:t}){return(0,s.jsx)(o.ToolbarDropdownMenu,{popoverProps:d,label:(0,l.__)("Change tag name","display-a-meta-field-as-block"),text:(0,s.jsx)(c,{value:e}),icon:null,controls:r.map((i=>{{const a=i===e;return{key:i,title:(0,s.jsx)(c,{value:i}),label:i,isActive:a,onClick(){t(i)},role:"menuitemradio"}}}))})}const{entries:f,setPrototypeOf:m,isFrozen:u,getPrototypeOf:g,getOwnPropertyDescriptor:y}=Object;let{freeze:h,seal:_,create:b}=Object,{apply:x,construct:v}="undefined"!=typeof Reflect&&Reflect;h||(h=function(e){return e}),_||(_=function(e){return e}),x||(x=function(e,t,i){return e.apply(t,i)}),v||(v=function(e,t){return new e(...t)});const T=I(Array.prototype.forEach),k=I(Array.prototype.lastIndexOf),S=I(Array.prototype.pop),A=I(Array.prototype.push),w=I(Array.prototype.splice),E=I(String.prototype.toLowerCase),N=I(String.prototype.toString),C=I(String.prototype.match),D=I(String.prototype.replace),O=I(String.prototype.indexOf),F=I(String.prototype.trim),M=I(Object.prototype.hasOwnProperty),L=I(RegExp.prototype.test),j=(R=TypeError,function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return v(R,t)});var R;function I(e){return function(t){for(var i=arguments.length,a=new Array(i>1?i-1:0),l=1;l<i;l++)a[l-1]=arguments[l];return x(e,t,a)}}function P(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E;m&&m(e,null);let a=t.length;for(;a--;){let l=t[a];if("string"==typeof l){const e=i(l);e!==l&&(u(t)||(t[a]=e),l=e)}e[l]=!0}return e}function z(e){for(let t=0;t<e.length;t++)M(e,t)||(e[t]=null);return e}function H(e){const t=b(null);for(const[i,a]of f(e))M(e,i)&&(Array.isArray(a)?t[i]=z(a):a&&"object"==typeof a&&a.constructor===Object?t[i]=H(a):t[i]=a);return t}function U(e,t){for(;null!==e;){const i=y(e,t);if(i){if(i.get)return I(i.get);if("function"==typeof i.value)return I(i.value)}e=g(e)}return function(){return null}}const B=h(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),W=h(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),q=h(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),G=h(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),V=h(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Y=h(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),$=h(["#text"]),X=h(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),K=h(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),J=h(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Z=h(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Q=_(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ee=_(/<%[\w\W]*|[\w\W]*%>/gm),te=_(/\$\{[\w\W]*/gm),ie=_(/^data-[\-\w.\u00B7-\uFFFF]+$/),ae=_(/^aria-[\-\w]+$/),le=_(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ne=_(/^(?:\w+script|data):/i),oe=_(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),se=_(/^html$/i),re=_(/^[a-z][.\w]*(-[.\w]+)+$/i);var de=Object.freeze({__proto__:null,ARIA_ATTR:ae,ATTR_WHITESPACE:oe,CUSTOM_ELEMENT:re,DATA_ATTR:ie,DOCTYPE_NAME:se,ERB_EXPR:ee,IS_ALLOWED_URI:le,IS_SCRIPT_OR_DATA:ne,MUSTACHE_EXPR:Q,TMPLIT_EXPR:te});const ce=function(){return"undefined"==typeof window?null:window};var pe=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce();const i=t=>e(t);if(i.version="3.2.4",i.removed=[],!t||!t.document||9!==t.document.nodeType||!t.Element)return i.isSupported=!1,i;let{document:a}=t;const l=a,n=l.currentScript,{DocumentFragment:o,HTMLTemplateElement:s,Node:r,Element:d,NodeFilter:c,NamedNodeMap:p=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:m,DOMParser:u,trustedTypes:g}=t,y=d.prototype,_=U(y,"cloneNode"),x=U(y,"remove"),v=U(y,"nextSibling"),R=U(y,"childNodes"),I=U(y,"parentNode");if("function"==typeof s){const e=a.createElement("template");e.content&&e.content.ownerDocument&&(a=e.content.ownerDocument)}let z,Q="";const{implementation:ee,createNodeIterator:te,createDocumentFragment:ie,getElementsByTagName:ae}=a,{importNode:ne}=l;let oe={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};i.isSupported="function"==typeof f&&"function"==typeof I&&ee&&void 0!==ee.createHTMLDocument;const{MUSTACHE_EXPR:re,ERB_EXPR:pe,TMPLIT_EXPR:fe,DATA_ATTR:me,ARIA_ATTR:ue,IS_SCRIPT_OR_DATA:ge,ATTR_WHITESPACE:ye,CUSTOM_ELEMENT:he}=de;let{IS_ALLOWED_URI:_e}=de,be=null;const xe=P({},[...B,...W,...q,...V,...$]);let ve=null;const Te=P({},[...X,...K,...J,...Z]);let ke=Object.seal(b(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Se=null,Ae=null,we=!0,Ee=!0,Ne=!1,Ce=!0,De=!1,Oe=!0,Fe=!1,Me=!1,Le=!1,je=!1,Re=!1,Ie=!1,Pe=!0,ze=!1,He=!0,Ue=!1,Be={},We=null;const qe=P({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ge=null;const Ve=P({},["audio","video","img","source","image","track"]);let Ye=null;const $e=P({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Xe="http://www.w3.org/1998/Math/MathML",Ke="http://www.w3.org/2000/svg",Je="http://www.w3.org/1999/xhtml";let Ze=Je,Qe=!1,et=null;const tt=P({},[Xe,Ke,Je],N);let it=P({},["mi","mo","mn","ms","mtext"]),at=P({},["annotation-xml"]);const lt=P({},["title","style","font","a","script"]);let nt=null;const ot=["application/xhtml+xml","text/html"];let st=null,rt=null;const dt=a.createElement("form"),ct=function(e){return e instanceof RegExp||e instanceof Function},pt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!rt||rt!==e){if(e&&"object"==typeof e||(e={}),e=H(e),nt=-1===ot.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,st="application/xhtml+xml"===nt?N:E,be=M(e,"ALLOWED_TAGS")?P({},e.ALLOWED_TAGS,st):xe,ve=M(e,"ALLOWED_ATTR")?P({},e.ALLOWED_ATTR,st):Te,et=M(e,"ALLOWED_NAMESPACES")?P({},e.ALLOWED_NAMESPACES,N):tt,Ye=M(e,"ADD_URI_SAFE_ATTR")?P(H($e),e.ADD_URI_SAFE_ATTR,st):$e,Ge=M(e,"ADD_DATA_URI_TAGS")?P(H(Ve),e.ADD_DATA_URI_TAGS,st):Ve,We=M(e,"FORBID_CONTENTS")?P({},e.FORBID_CONTENTS,st):qe,Se=M(e,"FORBID_TAGS")?P({},e.FORBID_TAGS,st):{},Ae=M(e,"FORBID_ATTR")?P({},e.FORBID_ATTR,st):{},Be=!!M(e,"USE_PROFILES")&&e.USE_PROFILES,we=!1!==e.ALLOW_ARIA_ATTR,Ee=!1!==e.ALLOW_DATA_ATTR,Ne=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ce=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,De=e.SAFE_FOR_TEMPLATES||!1,Oe=!1!==e.SAFE_FOR_XML,Fe=e.WHOLE_DOCUMENT||!1,je=e.RETURN_DOM||!1,Re=e.RETURN_DOM_FRAGMENT||!1,Ie=e.RETURN_TRUSTED_TYPE||!1,Le=e.FORCE_BODY||!1,Pe=!1!==e.SANITIZE_DOM,ze=e.SANITIZE_NAMED_PROPS||!1,He=!1!==e.KEEP_CONTENT,Ue=e.IN_PLACE||!1,_e=e.ALLOWED_URI_REGEXP||le,Ze=e.NAMESPACE||Je,it=e.MATHML_TEXT_INTEGRATION_POINTS||it,at=e.HTML_INTEGRATION_POINTS||at,ke=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&ct(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ke.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ct(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ke.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(ke.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),De&&(Ee=!1),Re&&(je=!0),Be&&(be=P({},$),ve=[],!0===Be.html&&(P(be,B),P(ve,X)),!0===Be.svg&&(P(be,W),P(ve,K),P(ve,Z)),!0===Be.svgFilters&&(P(be,q),P(ve,K),P(ve,Z)),!0===Be.mathMl&&(P(be,V),P(ve,J),P(ve,Z))),e.ADD_TAGS&&(be===xe&&(be=H(be)),P(be,e.ADD_TAGS,st)),e.ADD_ATTR&&(ve===Te&&(ve=H(ve)),P(ve,e.ADD_ATTR,st)),e.ADD_URI_SAFE_ATTR&&P(Ye,e.ADD_URI_SAFE_ATTR,st),e.FORBID_CONTENTS&&(We===qe&&(We=H(We)),P(We,e.FORBID_CONTENTS,st)),He&&(be["#text"]=!0),Fe&&P(be,["html","head","body"]),be.table&&(P(be,["tbody"]),delete Se.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw j('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw j('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');z=e.TRUSTED_TYPES_POLICY,Q=z.createHTML("")}else void 0===z&&(z=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let i=null;const a="data-tt-policy-suffix";t&&t.hasAttribute(a)&&(i=t.getAttribute(a));const l="dompurify"+(i?"#"+i:"");try{return e.createPolicy(l,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+l+" could not be created."),null}}(g,n)),null!==z&&"string"==typeof Q&&(Q=z.createHTML(""));h&&h(e),rt=e}},ft=P({},[...W,...q,...G]),mt=P({},[...V,...Y]),ut=function(e){A(i.removed,{element:e});try{I(e).removeChild(e)}catch(t){x(e)}},gt=function(e,t){try{A(i.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){A(i.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(je||Re)try{ut(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},yt=function(e){let t=null,i=null;if(Le)e="<remove></remove>"+e;else{const t=C(e,/^[\r\n\t ]+/);i=t&&t[0]}"application/xhtml+xml"===nt&&Ze===Je&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const l=z?z.createHTML(e):e;if(Ze===Je)try{t=(new u).parseFromString(l,nt)}catch(e){}if(!t||!t.documentElement){t=ee.createDocument(Ze,"template",null);try{t.documentElement.innerHTML=Qe?Q:l}catch(e){}}const n=t.body||t.documentElement;return e&&i&&n.insertBefore(a.createTextNode(i),n.childNodes[0]||null),Ze===Je?ae.call(t,Fe?"html":"body")[0]:Fe?t.documentElement:n},ht=function(e){return te.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},_t=function(e){return e instanceof m&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof p)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},bt=function(e){return"function"==typeof r&&e instanceof r};function xt(e,t,a){T(e,(e=>{e.call(i,t,a,rt)}))}const vt=function(e){let t=null;if(xt(oe.beforeSanitizeElements,e,null),_t(e))return ut(e),!0;const a=st(e.nodeName);if(xt(oe.uponSanitizeElement,e,{tagName:a,allowedTags:be}),e.hasChildNodes()&&!bt(e.firstElementChild)&&L(/<[/\w]/g,e.innerHTML)&&L(/<[/\w]/g,e.textContent))return ut(e),!0;if(7===e.nodeType)return ut(e),!0;if(Oe&&8===e.nodeType&&L(/<[/\w]/g,e.data))return ut(e),!0;if(!be[a]||Se[a]){if(!Se[a]&&kt(a)){if(ke.tagNameCheck instanceof RegExp&&L(ke.tagNameCheck,a))return!1;if(ke.tagNameCheck instanceof Function&&ke.tagNameCheck(a))return!1}if(He&&!We[a]){const t=I(e)||e.parentNode,i=R(e)||e.childNodes;if(i&&t)for(let a=i.length-1;a>=0;--a){const l=_(i[a],!0);l.__removalCount=(e.__removalCount||0)+1,t.insertBefore(l,v(e))}}return ut(e),!0}return e instanceof d&&!function(e){let t=I(e);t&&t.tagName||(t={namespaceURI:Ze,tagName:"template"});const i=E(e.tagName),a=E(t.tagName);return!!et[e.namespaceURI]&&(e.namespaceURI===Ke?t.namespaceURI===Je?"svg"===i:t.namespaceURI===Xe?"svg"===i&&("annotation-xml"===a||it[a]):Boolean(ft[i]):e.namespaceURI===Xe?t.namespaceURI===Je?"math"===i:t.namespaceURI===Ke?"math"===i&&at[a]:Boolean(mt[i]):e.namespaceURI===Je?!(t.namespaceURI===Ke&&!at[a])&&!(t.namespaceURI===Xe&&!it[a])&&!mt[i]&&(lt[i]||!ft[i]):!("application/xhtml+xml"!==nt||!et[e.namespaceURI]))}(e)?(ut(e),!0):"noscript"!==a&&"noembed"!==a&&"noframes"!==a||!L(/<\/no(script|embed|frames)/i,e.innerHTML)?(De&&3===e.nodeType&&(t=e.textContent,T([re,pe,fe],(e=>{t=D(t,e," ")})),e.textContent!==t&&(A(i.removed,{element:e.cloneNode()}),e.textContent=t)),xt(oe.afterSanitizeElements,e,null),!1):(ut(e),!0)},Tt=function(e,t,i){if(Pe&&("id"===t||"name"===t)&&(i in a||i in dt))return!1;if(Ee&&!Ae[t]&&L(me,t));else if(we&&L(ue,t));else if(!ve[t]||Ae[t]){if(!(kt(e)&&(ke.tagNameCheck instanceof RegExp&&L(ke.tagNameCheck,e)||ke.tagNameCheck instanceof Function&&ke.tagNameCheck(e))&&(ke.attributeNameCheck instanceof RegExp&&L(ke.attributeNameCheck,t)||ke.attributeNameCheck instanceof Function&&ke.attributeNameCheck(t))||"is"===t&&ke.allowCustomizedBuiltInElements&&(ke.tagNameCheck instanceof RegExp&&L(ke.tagNameCheck,i)||ke.tagNameCheck instanceof Function&&ke.tagNameCheck(i))))return!1}else if(Ye[t]);else if(L(_e,D(i,ye,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==O(i,"data:")||!Ge[e])if(Ne&&!L(ge,D(i,ye,"")));else if(i)return!1;return!0},kt=function(e){return"annotation-xml"!==e&&C(e,he)},St=function(e){xt(oe.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||_t(e))return;const a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ve,forceKeepAttr:void 0};let l=t.length;for(;l--;){const n=t[l],{name:o,namespaceURI:s,value:r}=n,d=st(o);let c="value"===o?r:F(r);if(a.attrName=d,a.attrValue=c,a.keepAttr=!0,a.forceKeepAttr=void 0,xt(oe.uponSanitizeAttribute,e,a),c=a.attrValue,!ze||"id"!==d&&"name"!==d||(gt(o,e),c="user-content-"+c),Oe&&L(/((--!?|])>)|<\/(style|title)/i,c)){gt(o,e);continue}if(a.forceKeepAttr)continue;if(gt(o,e),!a.keepAttr)continue;if(!Ce&&L(/\/>/i,c)){gt(o,e);continue}De&&T([re,pe,fe],(e=>{c=D(c,e," ")}));const p=st(e.nodeName);if(Tt(p,d,c)){if(z&&"object"==typeof g&&"function"==typeof g.getAttributeType)if(s);else switch(g.getAttributeType(p,d)){case"TrustedHTML":c=z.createHTML(c);break;case"TrustedScriptURL":c=z.createScriptURL(c)}try{s?e.setAttributeNS(s,o,c):e.setAttribute(o,c),_t(e)?ut(e):S(i.removed)}catch(e){}}}xt(oe.afterSanitizeAttributes,e,null)},At=function e(t){let i=null;const a=ht(t);for(xt(oe.beforeSanitizeShadowDOM,t,null);i=a.nextNode();)xt(oe.uponSanitizeShadowNode,i,null),vt(i),St(i),i.content instanceof o&&e(i.content);xt(oe.afterSanitizeShadowDOM,t,null)};return i.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=null,n=null,s=null,d=null;if(Qe=!e,Qe&&(e="\x3c!--\x3e"),"string"!=typeof e&&!bt(e)){if("function"!=typeof e.toString)throw j("toString is not a function");if("string"!=typeof(e=e.toString()))throw j("dirty is not a string, aborting")}if(!i.isSupported)return e;if(Me||pt(t),i.removed=[],"string"==typeof e&&(Ue=!1),Ue){if(e.nodeName){const t=st(e.nodeName);if(!be[t]||Se[t])throw j("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof r)a=yt("\x3c!----\x3e"),n=a.ownerDocument.importNode(e,!0),1===n.nodeType&&"BODY"===n.nodeName||"HTML"===n.nodeName?a=n:a.appendChild(n);else{if(!je&&!De&&!Fe&&-1===e.indexOf("<"))return z&&Ie?z.createHTML(e):e;if(a=yt(e),!a)return je?null:Ie?Q:""}a&&Le&&ut(a.firstChild);const c=ht(Ue?e:a);for(;s=c.nextNode();)vt(s),St(s),s.content instanceof o&&At(s.content);if(Ue)return e;if(je){if(Re)for(d=ie.call(a.ownerDocument);a.firstChild;)d.appendChild(a.firstChild);else d=a;return(ve.shadowroot||ve.shadowrootmode)&&(d=ne.call(l,d,!0)),d}let p=Fe?a.outerHTML:a.innerHTML;return Fe&&be["!doctype"]&&a.ownerDocument&&a.ownerDocument.doctype&&a.ownerDocument.doctype.name&&L(se,a.ownerDocument.doctype.name)&&(p="<!DOCTYPE "+a.ownerDocument.doctype.name+">\n"+p),De&&T([re,pe,fe],(e=>{p=D(p,e," ")})),z&&Ie?z.createHTML(p):p},i.setConfig=function(){pt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Me=!0},i.clearConfig=function(){rt=null,Me=!1},i.isValidAttribute=function(e,t,i){rt||pt({});const a=st(e),l=st(t);return Tt(a,l,i)},i.addHook=function(e,t){"function"==typeof t&&A(oe[e],t)},i.removeHook=function(e,t){if(void 0!==t){const i=k(oe[e],t);return-1===i?void 0:w(oe[e],i,1)[0]}return S(oe[e])},i.removeHooks=function(e){oe[e]=[]},i.removeAllHooks=function(){oe={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},i}();function fe(e){var t,i,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(i=fe(e[t]))&&(a&&(a+=" "),a+=i)}else for(i in e)e[i]&&(a&&(a+=" "),a+=i);return a}const me=function(){for(var e,t,i=0,a="",l=arguments.length;i<l;i++)(e=arguments[i])&&(t=fe(e))&&(a&&(a+=" "),a+=t);return a},ue=window.wp.element,ge=(0,ue.forwardRef)((({value:e,isLoading:t,fieldType:i,type:a,className:l,TagName:r="div",textAlign:d,prefix:c,suffix:p,prefixSettings:f,suffixSettings:m,displayLayout:u="",showOutline:g=!1},y)=>{const h="div"===r?"div":"span",_=c?(0,s.jsx)(h,{className:"prefix",style:{...f,...f?.gap?.top?{"--mfb--gap":(0,n.getSpacingPresetCssVar)(f.gap.top)}:{}},dangerouslySetInnerHTML:{__html:pe.sanitize(c)}}):null,b=p?(0,s.jsx)(h,{className:"suffix",style:{...m,...m?.gap?.top?{"--mfb--gap":(0,n.getSpacingPresetCssVar)(m.gap.top)}:{}},dangerouslySetInnerHTML:{__html:pe.sanitize(p)}}):null;return(0,s.jsxs)(r,{...(0,n.useBlockProps)({ref:y,className:me(l,{[`is-${a}-field`]:a,[`is-${i}-field`]:i,[`has-text-align-${d}`]:d,[`is-display-${u}`]:u}),style:g?{minHeight:"1em",outline:"1px dashed"}:null}),children:[_,t?(0,s.jsx)(o.Spinner,{}):(0,s.jsx)(h,{className:"value",dangerouslySetInnerHTML:{__html:e?pe.sanitize(e):e}}),b]})})),ye=({fieldType:e,fieldTypeOptions:t,fieldTypeHelpMessages:i,setAttributes:a,fieldName:n,setFieldName:r,fieldNameHelp:d})=>{var c;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.SelectControl,{label:(0,l.__)("Field type","display-a-meta-field-as-block"),value:e,onChange:e=>a({fieldType:e}),options:t,help:null!==(c=i[e])&&void 0!==c?c:(0,l.__)("Choose a field type","display-a-meta-field-as-block")}),(0,s.jsx)(o.TextControl,{autoComplete:"off",label:(0,l.__)("Field name","display-a-meta-field-as-block"),value:n,onChange:r,help:d})]})},he=({setAttributes:e,hideEmpty:t,emptyMessage:i})=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.ToggleControl,{label:(0,l.__)("Hide block if the value is empty","display-a-meta-field-as-block"),checked:t,onChange:t=>e({hideEmpty:t})}),!t&&(0,s.jsx)(o.TextControl,{label:(0,l.__)("Empty message","display-a-meta-field-as-block"),value:i,onChange:t=>e({emptyMessage:t}),help:(0,l.__)("Display this text if the value is empty.","display-a-meta-field-as-block")})]}),_e=window.lodash,be=e=>null==e?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),xe=(0,l.__)("<code>This data type is not supported!</code>","display-a-meta-field-as-block"),ve=(0,l.__)("<code>No value</code>","display-a-meta-field-as-block"),Te=(0,l.__)("<code>No value</code>","display-a-meta-field-as-block"),ke=[{label:(0,l.__)("Default 'meta'","display-a-meta-field-as-block"),value:"meta"},{label:(0,l.__)("ACF - Advanced Custom Fields","display-a-meta-field-as-block"),value:"acf"},{label:(0,l.__)("Meta Box Fields","display-a-meta-field-as-block"),value:"mb"},{label:(0,l.__)("Dynamic field","display-a-meta-field-as-block"),value:"dynamic"},{label:(0,l.__)("Custom rest field","display-a-meta-field-as-block"),value:"rest_field"}],Se={meta:(0,s.jsxs)(s.Fragment,{children:[(0,l.__)("Fields are registered with ","display-a-meta-field-as-block"),(0,s.jsx)(o.ExternalLink,{href:"https://developer.wordpress.org/reference/functions/register_meta/",children:"register_meta"}),(0,l.__)(" and 'show_in_rest' setting is enable.","display-a-meta-field-as-block")]}),acf:(0,s.jsxs)(s.Fragment,{children:[(0,l.__)("Fields are registered with ","display-a-meta-field-as-block"),(0,s.jsx)(o.ExternalLink,{href:"https://wordpress.org/plugins/advanced-custom-fields/",children:"Advanced Custom Fields"}),(0,l.__)(" and 'Show in REST API' setting is ON.","display-a-meta-field-as-block")]}),mb:(0,s.jsxs)(s.Fragment,{children:[(0,l.__)("Fields are registered with ","display-a-meta-field-as-block"),(0,s.jsx)(o.ExternalLink,{href:"https://wordpress.org/plugins/meta-box/",children:"Meta Box"})]}),rest_field:(0,s.jsxs)(s.Fragment,{children:[(0,l.__)("Fields are registered with ","display-a-meta-field-as-block"),(0,s.jsx)(o.ExternalLink,{href:"https://developer.wordpress.org/reference/functions/register_rest_field/",children:"register_rest_field."}),(0,l.__)("The 'rest field' and the 'custom field' should be the same name. Or adding a filter for the hook `apply_filters( 'meta_field_block_get_block_content', $content, $attributes, $block, $object_id, $object_type )` to get value for front end.","display-a-meta-field-as-block")]}),dynamic:(0,s.jsx)(s.Fragment,{children:(0,l.__)("You can use any field whose value is a string or can be converted to a string. The changes made by the hook `meta_field_block_get_block_content` can be seen on both the front end and the editor. You can also run a shortcode by inputting it in the field name.","display-a-meta-field-as-block")})},Ae=["footnotes","_acf_changed"],we="isMFBLoaded",Ee=e=>["acf","mb"].includes(e),Ne=({fieldName:e,fieldType:t,metaFields:i,ACFFields:a,MBFields:l,ACFFieldObject:n,restFieldValue:o,settingFieldValue:s,dynamicValue:r})=>{let d;var c;if(e)if("meta"===t)"object"===be(i)&&(d=null!==(c=i[e])&&void 0!==c?c:"");else if("acf"===t){var p;"object"===be(a)&&null!==(p=a[e])&&void 0!==p&&p?d=a[e]:"object"===be(n)&&n?.field?.key===e&&(d=n)}else if("mb"===t){var f;"object"===be(l)&&null!==(f=l[e])&&void 0!==f&&f&&(d=l[e])}else d="option"===t?s:"dynamic"===t?r:o;return d},Ce=(0,l.__)("Prefix and suffix","display-a-meta-field-as-block"),De=(0,l.__)("Prefix","display-a-meta-field-as-block"),Oe=(0,l.__)("Suffix","display-a-meta-field-as-block"),Fe=window.wp.data,Me=window.wp.coreData,Le=window.wp.editor,je=window.wp.url,Re=window.wp.apiFetch;var Ie=i.n(Re);const Pe=({setAttributes:e,labelAsPrefix:t,prefix:i,suffix:a,fieldType:n,displayLayout:r})=>(0,s.jsxs)(s.Fragment,{children:[Ee(n)&&(0,s.jsx)(o.ToggleControl,{label:(0,l.__)("Use field label as prefix","display-a-meta-field-as-block"),checked:t,onChange:t=>e({labelAsPrefix:t})}),(0,s.jsx)(o.TextControl,{label:De,value:i,onChange:t=>e({prefix:t}),help:(0,l.__)("Display before the field value.","display-a-meta-field-as-block")}),(0,s.jsx)(o.TextControl,{label:Oe,value:a,onChange:t=>e({suffix:t}),help:(0,l.__)("Display after the field value.","display-a-meta-field-as-block")}),(0,s.jsx)(o.SelectControl,{label:(0,l.__)("Display layout","display-a-meta-field-as-block"),options:[{value:"inline-block",label:(0,l.__)("Inline block")},{value:"block",label:(0,l.__)("Block")},{value:"",label:(0,l.__)("Auto")}],value:r,onChange:t=>e({displayLayout:t}),help:(0,l.__)("Choose basic layout for prefix, value and suffix. This block does not provide any CSS style for the meta field.","display-a-meta-field-as-block")})]}),ze=({label:e,fontSizeValue:t,fontWeight:i,fontStyle:a,lineHeight:l,onChange:r})=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.BaseControl,{label:e}),(0,s.jsxs)(o.__experimentalGrid,{className:"typography-settings",columns:2,columnGap:"8px",rowGap:"16px",children:[(0,s.jsx)("div",{style:{gridColumn:"span 2"},children:(0,s.jsx)(n.FontSizePicker,{value:t,onChange:r("fontSize"),withReset:!1,withSlider:!0,__nextHasNoMarginBottom:!0,size:"__unstable-large"})}),(0,s.jsx)(n.__experimentalFontAppearanceControl,{value:{fontWeight:i,fontStyle:a},onChange:r("fontAppearance"),hasFontStyles:!0,hasFontWeights:!0,size:"__unstable-large",__nextHasNoMarginBottom:!0}),(0,s.jsx)(n.LineHeightControl,{value:l,onChange:r("lineHeight"),size:"__unstable-large",__nextHasNoMarginBottom:!0,__unstableInputWidth:"auto"})]})]}),He=({setAttributes:e,attributes:t})=>{const{showOutline:i,prefix:a,suffix:r,fieldType:d,labelAsPrefix:c,prefixSettings:p,suffixSettings:f}=t,m=!!a||Ee(d)&&c,u=!!r,g=(0,n.useSettings)("typography.fontSizes")[0],y=(t,i)=>a=>l=>{if("fontAppearance"!==a)if("fontSize"===a){const e=(0,n.getFontSizeObjectByValue)(g,l).slug;l={fontSizeValue:l,fontSize:e?`var(--wp--preset--font-size--${e}, ${l})`:l}}else l={[a]:l};i=i?{...i,...l}:{...l},e({[t]:i})},h=(t,i)=>a=>{i=i?{...i,gap:a}:{gap:a},e({[t]:i})},_=(0,l.__)("Margin","display-a-meta-field-as-block");return(0,s.jsxs)(n.InspectorControls,{group:"styles",children:[(m||u)&&(0,s.jsxs)(o.__experimentalToolsPanel,{label:Ce,resetAll:()=>{e({prefixSettings:void 0,suffixSettings:void 0})},children:[m&&(0,s.jsxs)(o.__experimentalToolsPanelItem,{label:De,hasValue:()=>m&&p,onDeselect:()=>e({prefixSettings:void 0}),children:[(0,s.jsx)(ze,{label:De,...p,onChange:y("prefixSettings",p)}),(0,s.jsx)("div",{style:{marginTop:"16px"},children:(0,s.jsx)(n.__experimentalSpacingSizesControl,{label:_,values:p?.gap,onChange:h("prefixSettings",p),sides:["top"],showSideInLabel:!1})})]}),u&&(0,s.jsxs)(o.__experimentalToolsPanelItem,{label:Oe,hasValue:()=>u&&f,onDeselect:()=>e({suffixSettings:void 0}),children:[(0,s.jsx)(ze,{label:Oe,...f,onChange:y("suffixSettings",f)}),(0,s.jsx)("div",{style:{marginTop:"16px"},children:(0,s.jsx)(n.__experimentalSpacingSizesControl,{label:_,values:f?.gap,onChange:h("suffixSettings",f),sides:["top"],showSideInLabel:!1})})]})]}),(0,s.jsx)(o.PanelBody,{title:(0,l.__)("Block style settings"),children:(0,s.jsx)(o.ToggleControl,{label:(0,l.__)("Show block outline","display-a-meta-field-as-block"),checked:i,onChange:t=>e({showOutline:t}),help:(0,l.__)("Highlight the block on the Editor only.","display-a-meta-field-as-block")})})]})},Ue=window.React;var Be,We;function qe(){return qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},qe.apply(this,arguments)}const Ge=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"mfb/meta-field-block","title":"Meta Field Block","category":"theme","description":"Display a custom field as a block on the frontend. Supports custom fields for posts, terms, and users. Officially supports ACF, Meta Box, and all text-based meta fields.","keywords":["meta","custom","acf","meta field","custom field","setting field","metadata"],"attributes":{"textAlign":{"type":"string"},"fieldType":{"type":"string","default":"meta"},"fieldName":{"type":"string"},"fieldSettings":{"type":"object"},"hideEmpty":{"type":"boolean","default":false},"emptyMessage":{"type":"string","default":""},"prefix":{"type":"string"},"suffix":{"type":"string"},"labelAsPrefix":{"type":"boolean","default":false},"prefixSettings":{"type":"object"},"suffixSettings":{"type":"object"},"displayLayout":{"type":"string","default":""},"tagName":{"type":"string","default":"div"},"showOutline":{"type":"boolean","default":false}},"supports":{"html":false,"anchor":true,"align":["wide","full"],"color":{"background":true,"text":true,"gradients":true,"link":true},"spacing":{"margin":true,"padding":true,"__experimentalDefaultControls":{"margin":true,"padding":true}},"__experimentalBorder":{"color":true,"radius":true,"style":true,"width":true,"__experimentalDefaultControls":false},"shadow":true,"typography":{"fontSize":true,"lineHeight":true,"__experimentalFontFamily":true,"__experimentalFontStyle":true,"__experimentalFontWeight":true,"__experimentalLetterSpacing":true,"__experimentalTextTransform":true,"__experimentalTextDecoration":true,"__experimentalDefaultControls":{"fontSize":true,"lineHeight":true,"fontAppearance":true,"textTransform":true}},"interactivity":{"clientNavigation":true}},"usesContext":["postId","postType","queryId","query"],"textdomain":"display-a-meta-field-as-block","editorScript":"file:./index.js","style":"file:./style-index.css"}'),Ve=[{name:"text-field",title:(0,l.__)("Text","display-a-meta-field-as-block"),description:(0,l.__)("Display a text field.","display-a-meta-field-as-block"),scope:[],isActive:e=>"text"===e?.fieldSettings?.type},{name:"textarea-field",title:(0,l.__)("Textarea","display-a-meta-field-as-block"),description:(0,l.__)("Display a textarea field.","display-a-meta-field-as-block"),scope:[],isActive:e=>"textarea"===e?.fieldSettings?.type},{name:"image-field",title:(0,l.__)("Image","display-a-meta-field-as-block"),description:(0,l.__)("Display an image field.","display-a-meta-field-as-block"),scope:[],isActive:e=>["image","single_image","image_advanced","image_upload"].includes(e?.fieldSettings?.type)},{name:"link-field",title:(0,l.__)("Link","display-a-meta-field-as-block"),description:(0,l.__)("Display a link field.","display-a-meta-field-as-block"),scope:[],isActive:e=>"link"===e?.fieldSettings?.type},{name:"select-field",title:(0,l.__)("Select","display-a-meta-field-as-block"),description:(0,l.__)("Display a select field.","display-a-meta-field-as-block"),scope:[],isActive:e=>["select","select_advanced","autocomplete"].includes(e?.fieldSettings?.type)},{name:"true_false-field",title:(0,l.__)("True/false","display-a-meta-field-as-block"),description:(0,l.__)("Display a true/false field.","display-a-meta-field-as-block"),scope:[],isActive:e=>["true_false","switch"].includes(e?.fieldSettings?.type)||"checkbox"===e?.fieldSettings?.type&&!e?.fieldSettings?.key},{name:"choice-field",title:(0,l.__)("Choice","display-a-meta-field-as-block"),description:(0,l.__)("Display a choice field.","display-a-meta-field-as-block"),scope:[],isActive:e=>["radio","radio_button","checkbox_list","button_group","image_select"].includes(e?.fieldSettings?.type)||"checkbox"===e?.fieldSettings?.type&&!!e?.fieldSettings?.key},{name:"wysiwyg-field",title:(0,l.__)("Editor","display-a-meta-field-as-block"),description:(0,l.__)("Display a wysiwyg field.","display-a-meta-field-as-block"),scope:[],isActive:e=>"wysiwyg"===e?.fieldSettings?.type},{name:"relationship-field",title:(0,l.__)("Relationship","display-a-meta-field-as-block"),description:(0,l.__)("Display a relationship field.","display-a-meta-field-as-block"),scope:[],isActive:e=>"relationship"===e?.fieldSettings?.type},{name:"post_object-field",title:(0,l.__)("Post","display-a-meta-field-as-block"),description:(0,l.__)("Display a post object field.","display-a-meta-field-as-block"),scope:[],isActive:e=>["post_object","post"].includes(e?.fieldSettings?.type)},{name:"number-field",title:(0,l.__)("Number","display-a-meta-field-as-block"),description:(0,l.__)("Display a number field.","display-a-meta-field-as-block"),scope:[],isActive:e=>["number","range","slider"].includes(e?.fieldSettings?.type)},{name:"email-field",title:(0,l.__)("Email","display-a-meta-field-as-block"),description:(0,l.__)("Display an email field.","display-a-meta-field-as-block"),scope:[],isActive:e=>"email"===e?.fieldSettings?.type},{name:"url-field",title:(0,l.__)("URL","display-a-meta-field-as-block"),description:(0,l.__)("Display a URL field.","display-a-meta-field-as-block"),scope:[],isActive:e=>"url"===e?.fieldSettings?.type},{name:"oembed-field",title:(0,l.__)("Embed","display-a-meta-field-as-block"),description:(0,l.__)("Display an embed field.","display-a-meta-field-as-block"),scope:[],isActive:e=>"oembed"===e?.fieldSettings?.type},{name:"page_link-field",title:(0,l.__)("Page link","display-a-meta-field-as-block"),description:(0,l.__)("Display a page link field.","display-a-meta-field-as-block"),scope:[],isActive:e=>"page_link"===e?.fieldSettings?.type},{name:"file-field",title:(0,l.__)("File","display-a-meta-field-as-block"),description:(0,l.__)("Display a file field.","display-a-meta-field-as-block"),scope:[],isActive:e=>["file","file_input","file_advanced","file_upload"].includes(e?.fieldSettings?.type)},{name:"taxonomy-field",title:(0,l.__)("Taxonomy","display-a-meta-field-as-block"),description:(0,l.__)("Display a taxonomy field.","display-a-meta-field-as-block"),scope:[],isActive:e=>["taxonomy","taxonomy_advanced"].includes(e?.fieldSettings?.type)},{name:"user-field",title:(0,l.__)("User","display-a-meta-field-as-block"),description:(0,l.__)("Display a user field.","display-a-meta-field-as-block"),scope:[],isActive:e=>"user"===e?.fieldSettings?.type},{name:"datetime-field",title:(0,l.__)("Datetime","display-a-meta-field-as-block"),description:(0,l.__)("Display a date, time field.","display-a-meta-field-as-block"),scope:[],isActive:e=>["date","time","datetime","date_picker","time_picker","date_time_picker"].includes(e?.fieldSettings?.type)}];(0,a.registerBlockType)(Ge,{icon:function(e){return Ue.createElement("svg",qe({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 256 256"},e),Be||(Be=Ue.createElement("path",{d:"M31.672 74.043q-10.838 0-15.54 3.118-5.275 3.504-5.275 12.698v23.64q0 11.164-9.403 12.531v3.94q9.404 1.424 9.403 12.641v23.42q0 8.1 3.957 11.712 4.587 4.214 16.858 4.214h1.491v-3.777h-.689q-8.143 0-11.467-2.353-3.783-2.627-3.784-10.014v-23.31q0-10.452-10.837-14.557 10.837-3.885 10.837-14.446V90.187q0-6.512 2.808-9.195 3.27-3.118 12.443-3.118h.69v-3.83zm191.166 0v3.831h.689q9.173 0 12.442 3.118 2.808 2.683 2.808 9.195v23.312q0 10.56 10.837 14.446-10.836 4.105-10.837 14.556v23.312q0 7.388-3.784 10.014-3.324 2.354-11.467 2.354h-.688v3.776h1.49q12.271 0 16.857-4.214 3.958-3.612 3.958-11.712v-23.42q0-11.218 9.403-12.641v-3.94q-9.404-1.368-9.403-12.53V89.858q0-9.194-5.276-12.698-4.7-3.118-15.539-3.118z"})),We||(We=Ue.createElement("path",{d:"M99.742 169.265H83.248v-55.26l-11.917 35.861H59.89l-11.916-35.86v55.26h-15.63v-82.53h19.256l14.465 41.402 14.42-41.402h19.258zm62.478-66.567h-29.577v15.354h27.418v15.962h-27.418v35.251H116.15v-82.53h46.07zm66.449 41.292q0 5.987-1.9 10.698-1.856 4.711-5.138 7.814-3.8 3.659-8.376 5.21-4.533 1.553-11.529 1.553h-28.065v-82.53h24.957q7.772 0 11.356.666 3.627.666 7.167 2.938 3.67 2.383 5.44 6.43 1.814 3.99 1.814 9.144 0 5.986-2.461 10.587-2.461 4.545-6.952 7.095v.443q6.304 1.607 9.974 6.65 3.713 5.044 3.713 13.302m-21.244-33.92q0-2.05-.82-4.1-.776-2.052-2.805-3.049-1.815-.888-4.533-.943-2.678-.11-7.557-.11h-1.556v17.458h2.593q3.928 0 6.691-.166t4.36-1.108q2.246-1.275 2.937-3.27.69-2.051.69-4.711m4.06 33.589q0-3.937-1.21-6.042-1.165-2.161-4.014-3.215-1.944-.72-5.355-.776-3.41-.055-7.123-.055h-3.629v20.563h1.21q6.995 0 10.018-.056 3.022-.055 5.569-1.44 2.59-1.387 3.54-3.66.993-2.326.993-5.32","aria-label":"MFB"})))},edit:function({attributes:e,attributes:{fieldType:t="meta",fieldName:i,fieldSettings:a={},hideEmpty:r,emptyMessage:d="",tagName:c="div",textAlign:f,labelAsPrefix:m,prefix:u,suffix:g,prefixSettings:y,suffixSettings:h,displayLayout:_="",showOutline:b=!1},setAttributes:x,isSelected:v,context:{postId:T,postType:k}}){const{postId:S,postType:A}=(({postType:e,postId:t})=>{const{getCurrentPostId:i,getCurrentPostType:a}=(0,Fe.useSelect)(Le.store);if(!e){const t=a();["wp_template","wp_template_part"].includes(t)||(e=t)}if(!t){let e=i();e=parseInt(e),e&&!isNaN(e)&&(t=e)}return{postType:e,postId:t}})({postId:T,postType:k}),{data:w,loading:E}=((e,t={},i=[])=>{const[a,l]=(0,ue.useState)(!1),[n,o]=(0,ue.useState)(),[s,r]=(0,ue.useState)();i=[e.fieldType,e.fieldName,...i];const d=(0,ue.useCallback)((()=>{l(!0),o(void 0),r(void 0),Ie()({path:(0,je.addQueryArgs)("/mfb/v1/getDynamicField",{attributes:e,...t}),headers:{"Content-Type":"application/json"},method:"GET"}).then(r).catch(o).finally((()=>l(!1)))}),i);return(0,ue.useEffect)((()=>{var t,i;"dynamic"===(null!==(t=e.fieldType)&&void 0!==t?t:"")&&null!==(i=e.fieldName)&&void 0!==i&&i?d():(n&&o(void 0),s&&r(void 0))}),[d]),{loading:a,error:n,data:s}})(e,{postId:S}),{ACFFields:N,MBFields:C,metaFields:D,restFieldNames:O,restFieldValue:F}=(({kind:e="postType",name:t,id:i,fieldName:a})=>{const[l]=(0,Me.useEntityProp)(e,t,"acf",i),[n]=(0,Me.useEntityProp)(e,t,"mb",i),[o]=(0,Me.useEntityProp)(e,t,"meta",i),[s]=(0,Me.useEntityProp)(e,t,"mfb_rest_fields",i),[r]=(0,Me.useEntityProp)(e,t,a,i);return{ACFFields:l,MBFields:n,metaFields:o,restFieldNames:s,restFieldValue:r}})({name:A,id:S,fieldName:i}),[M,L]=(({value:e,onChange:t,delay:i=500})=>{const[a,l]=(0,ue.useState)(e),n=((e,t=500)=>{const[i,a]=(0,ue.useState)(e);let l;return(0,ue.useEffect)((()=>(l&&clearTimeout(l),l=setTimeout((()=>{a(e)}),t),()=>clearTimeout(l))),[e,t]),i})(a,i),o=(0,ue.useCallback)(t);return(0,ue.useEffect)((()=>{n!==e&&o(n)}),[n,e,o]),[a,l]})({value:i,onChange:e=>{let i={fieldName:e,fieldSettings:{...a,type:void 0,key:void 0}};if("acf"===t){const n=Ne({fieldType:t,fieldName:e,ACFFields:N});if("object"===be(n)){var l;const e=null!==(l=n?.field)&&void 0!==l?l:{};i={...i,fieldSettings:{...a,type:e?.type,key:e?.key}}}}else if("mb"===t){const l=Ne({fieldType:t,fieldName:e,MBFields:C});if("object"===be(l)){var n;const e=null!==(n=l?.field)&&void 0!==n?n:{};i={...i,fieldSettings:{...a,type:e?.type}}}}x(i)}}),j=Ne({fieldType:t,fieldName:i,metaFields:D,ACFFields:N,MBFields:C,restFieldValue:F,dynamicValue:w}),R=(({fieldType:e,fieldName:t,hideEmpty:i,emptyMessage:a,rawValue:n})=>{let o;return t?(0,_e.isNil)(n)?o=(0,l.sprintf)((0,l.__)("MFB - <code>%s</code>","display-a-meta-field-as-block"),t):(o=n,Ee(e)&&"object"===be(n)&&(o=n?.simple_value_formatted),o=(({fieldValue:e,hideEmpty:t,emptyMessage:i})=>(e&&["object","array"].includes(be(e))&&(e=xe),e||0===e||(e=t?ve:i||Te),e))({fieldValue:o,hideEmpty:i,emptyMessage:a})):o=(0,l.__)('This is the Meta Field Block. Please input "Field Name"',"display-a-meta-field-as-block"),o})({rawValue:j,fieldType:t,fieldName:i,hideEmpty:r,emptyMessage:d}),I=(({fieldType:e,metaFields:t,ACFFields:i,MBFields:a,restFieldNames:n,settingFieldNames:o,additionalHelp:r=""})=>{let d,c=(0,l.__)("Input the field name. ","display-a-meta-field-as-block");"meta"===e?"object"===be(t)&&(d=Object.keys(t).filter((e=>!(Ae.includes(e)||["object","array"].includes(be(t[e])))))):"acf"===e?"object"===be(i)&&(d=Object.keys(i).filter((e=>e!==we))):"mb"===e?"object"===be(a)&&(d=Object.keys(a).filter((e=>e!==we))):"rest_field"===e?d=n:"option"===e&&(d=o);let p=null;return d&&d.length&&(p=d.map(((e,t)=>(0,s.jsxs)(ue.Fragment,{children:[(0,s.jsx)("code",{children:e},e),t<d?.length-1?", ":""]},e)))),p?c=(0,s.jsxs)(s.Fragment,{children:[c,(0,l.__)("Suggested values: ","display-a-meta-field-as-block"),(0,s.jsx)("span",{style:{lineHeight:2},children:p})]}):(r&&(c=(0,s.jsxs)(s.Fragment,{children:[c,r]})),"acf"===e&&(c=(0,s.jsxs)(s.Fragment,{children:[c,(0,l.__)("Using the field key as the field name can help the block access the field information without an object id.","display-a-meta-field-as-block")]}))),c})({fieldType:t,metaFields:D,ACFFields:N,MBFields:C,restFieldNames:O}),P=u||(Ee(t)&&m?(e=>{let t="";var i;return"object"===be(e)&&(t=null!==(i=e?.field?.label)&&void 0!==i?i:""),t})(j):"");return(0,s.jsxs)(s.Fragment,{children:[v&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.BlockControls,{group:"block",children:[(0,s.jsx)(p,{value:c,onChange:e=>x({tagName:e})}),(0,s.jsx)(n.AlignmentControl,{value:f,onChange:e=>x({textAlign:e})})]}),(0,s.jsxs)(n.InspectorControls,{group:"settings",children:[(0,s.jsxs)(o.PanelBody,{title:(0,l.__)("Meta field settings","display-a-meta-field-as-block"),children:[(0,s.jsx)(ye,{setAttributes:x,fieldType:t,fieldTypeOptions:ke,fieldTypeHelpMessages:Se,fieldName:M,setFieldName:L,fieldNameHelp:I}),(0,s.jsx)(he,{setAttributes:x,hideEmpty:r,emptyMessage:d})]}),(0,s.jsx)(o.PanelBody,{title:Ce,initialOpen:!(!P&&!g),children:(0,s.jsx)(Pe,{setAttributes:x,prefix:u,suffix:g,labelAsPrefix:m,fieldType:t,displayLayout:_})})]}),(0,s.jsx)(He,{setAttributes:x,attributes:e})]}),(0,s.jsx)(ge,{value:R,fieldType:t,isLoading:E,TagName:c,textAlign:f,prefix:P,suffix:g,prefixSettings:y,suffixSettings:h,displayLayout:_,showOutline:b})]})},variations:Ve})}},i={};function a(e){var l=i[e];if(void 0!==l)return l.exports;var n=i[e]={exports:{}};return t[e](n,n.exports,a),n.exports}a.m=t,e=[],a.O=(t,i,l,n)=>{if(!i){var o=1/0;for(c=0;c<e.length;c++){for(var[i,l,n]=e[c],s=!0,r=0;r<i.length;r++)(!1&n||o>=n)&&Object.keys(a.O).every((e=>a.O[e](i[r])))?i.splice(r--,1):(s=!1,n<o&&(o=n));if(s){e.splice(c--,1);var d=l();void 0!==d&&(t=d)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[i,l,n]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};a.O.j=t=>0===e[t];var t=(t,i)=>{var l,n,[o,s,r]=i,d=0;if(o.some((t=>0!==e[t]))){for(l in s)a.o(s,l)&&(a.m[l]=s[l]);if(r)var c=r(a)}for(t&&t(i);d<o.length;d++)n=o[d],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(c)},i=globalThis.webpackChunkmeta_field_block=globalThis.webpackChunkmeta_field_block||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var l=a.O(void 0,[350],(()=>a(101)));l=a.O(l)})();